!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o={SCRIPT_ID:"1D2hRx_8oVLxxZ86e0kNGSU9AJzWXqe0kFjQotyKJYYI_dn6mrgoKh9KH",CLIENT_ID:"120774100761-kglgrp4khpcjrpfvgbn7vqoqfcpnkvep.apps.googleusercontent.com",API_KEY:"AIzaSyCFsUU7845Cf03LtAFBkpOWezSejhSGF8U",DISCOVERY_DOCS:["https://script.googleapis.com/$discovery/rest?version=v1"],SCOPES:"https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/spreadsheets"};function a(){}a.registerListeners=function(e,t){a.SIGNIN_STATUS_LISTENER=e,a.CURRENT_USER_LISTENER=t},a.load=function(e,t,n,o,r){a.SCRIPT_ID=e,a.CLIENT_ID=t,a.API_KEY=n,a.DISCOVERY_DOCS=o,a.SCOPES=r,gapi.load("client:auth2",a.initClient)},a.initClient=function(){gapi.client.init({apiKey:a.API_KEY,clientId:a.CLIENT_ID,discoveryDocs:a.DISCOVERY_DOCS,scope:a.SCOPES}).then(function(){void 0!==a.SIGNIN_STATUS_LISTENER&&(gapi.auth2.getAuthInstance().isSignedIn.listen(a.SIGNIN_STATUS_LISTENER),a.SIGNIN_STATUS_LISTENER(gapi.auth2.getAuthInstance().isSignedIn.get())),void 0!==a.CURRENT_USER_LISTENER&&(gapi.auth2.getAuthInstance().currentUser.listen(a.CURRENT_USER_LISTENER),a.CURRENT_USER_LISTENER(gapi.auth2.getAuthInstance().currentUser.get()))})},a.signIn=function(){gapi.auth2.getAuthInstance().signIn()},a.signOut=function(){gapi.auth2.getAuthInstance().signOut()},a.runScript=function(e,t,n,o){gapi.client.script.scripts.run({scriptId:a.SCRIPT_ID,resource:{function:e,parameters:t,devMode:!0}}).then(function(e){var t=e.result;if(t.error&&t.error.status)var a="Error calling API:\n"+JSON.stringify(t,null,2);else if(t.error){var r=t.error.details[0];a=r.errorMessage;if(console.error("Script error message: "+a),r.scriptStackTraceElements){console.error("Script error stacktrace:");for(var i=0;i<r.scriptStackTraceElements.length;i++){var s=r.scriptStackTraceElements[i];console.error("\t"+s.function+":"+s.lineNumber)}}o(a)}else n(t.response.result)})};var r=!1,i=1e3;window.addEventListener("load",function(){console.log("preventFormSubmit");for(var e=document.querySelectorAll("form"),t=0;t<e.length;t++)e[t].addEventListener("submit",function(e){console.log("submitEvent"),e.preventDefault()})});var s={girl:{key:"girl",name:"Isabelle",css:"css/girl/bootstrap.min.css",icon:"flaticon-baby-girl",background:"images/girl/background.png"},boy:{key:"boy",name:"Ethan",css:"css/boy/bootstrap.min.css",icon:"flaticon-baby",background:"images/boy/background.png"}},c=s.girl,l={templates:{}};function u(e){e=e||s.boy,Cookies.set("theme",e.key),c=e,$("#babyIcon").removeClass(),$("#babyIcon").addClass(e.icon),$("#babyName").text(e.name),$("#themeLink").attr("href",e.css),$("#backgroundImg").attr("src",e.background)}function d(e){e?($("#signInModal").modal("hide"),$("#signInSection").hide(),$("#currentUserSection").show(),$("#signedInView").show(),p()):($("#signInModal").modal("show"),$("#signInSection").show(),$("#currentUserSection").hide(),$("#signedInView").hide())}function g(e){var t=e.isSignedIn()?e.getBasicProfile().getEmail():"";$("#currentUser").text(t)}function p(){I("Loading..."),r?setTimeout(function(){f({dashboard:sampleDashboardContext,today:sampleTodayContext,yesterday:sampleYesterdayContext})},i):a.runScript("loadData",[c.name],f,b)}function f(e){S("#dashboard-template","#dashboard",e.dashboard),S("#today-template","#today",e.today),S("#yesterday-template","#yesterday",e.yesterday),m()}function S(e,t,n){void 0===l.templates[e]&&(l.templates[e]=$(e).html());var o=Handlebars.compile(l.templates[e])(n);$(t).html(o)}function I(e){$("#overlay-text").text(e),$("#wait").css("display","block")}function m(){$("#wait").css("display","none")}function b(e){m(),alert(e),$("#submitBtn").val("Submit")}function v(){console.log("resetForm");var e=6e4*(new Date).getTimezoneOffset(),t=new Date(Date.now()-e).toISOString().slice(0,-1);t.slice(0,16);$("#date").val(t.slice(0,16)),$("#amount").val(""),$("#type").val(""),$("#time").val(""),$("#meal").val(""),$("#vitamin-no").click(),$("#wet-no").click(),$("#dirty-no").click(),$("#weight").val(""),$("#notes").val(""),$("#bath-no").click()}$(function(){console.log("Loading page"),a.registerListeners(d,g),a.load(o.SCRIPT_ID,o.CLIENT_ID,o.API_KEY,o.DISCOVERY_DOCS,o.SCOPES),$("#weight").mask("#0.00",{reverse:!1,placeholder:"__.__"});var e=Cookies.get("theme");u(s[e]),function(){var e=$("#day-partial").html(),t=Handlebars.compile(e);Handlebars.registerPartial("dayPartial",t)}(),$(".navbar-nav>.nav-close>a").on("click",function(){$(".navbar-collapse").collapse("hide")}),$(".navbar-collapse>div>button").on("click",function(){$(".navbar-collapse").collapse("hide")}),$(".signIn").on("click",function(){a.signIn()}),$("#signOut").on("click",function(){a.signOut()}),$(".navbar-nav>.dropdown>div>a").on("click",function(){u(s[$(this).attr("data-baby")]),$(".navbar-collapse").collapse("hide"),p()}),$("#addNewModal").on("show.bs.modal",function(e){v()}),$("#addNewModal").on("hidden.bs.modal",function(e){v()})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4uL19jb21tb24vanMvZ29vZ2xlLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHQuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJHT09HTEVfSURTIiwiU0NSSVBUX0lEIiwiQ0xJRU5UX0lEIiwiQVBJX0tFWSIsIkRJU0NPVkVSWV9ET0NTIiwiU0NPUEVTIiwiR29vZ2xlQVBJV3JhcHBlciIsInJlZ2lzdGVyTGlzdGVuZXJzIiwic2lnbkluU3RhdHVzTGlzdGVuZXIiLCJjdXJyZW50VXNlckxpc3RlbmVyIiwiU0lHTklOX1NUQVRVU19MSVNURU5FUiIsIkNVUlJFTlRfVVNFUl9MSVNURU5FUiIsImxvYWQiLCJzY3JpcHRJZCIsImNsaWVudElkIiwiYXBpS2V5IiwiZGlzY292ZXJ5RG9jcyIsInNjb3BlcyIsImdhcGkiLCJpbml0Q2xpZW50IiwiY2xpZW50IiwiaW5pdCIsInNjb3BlIiwidGhlbiIsInVuZGVmaW5lZCIsImF1dGgyIiwiZ2V0QXV0aEluc3RhbmNlIiwiaXNTaWduZWRJbiIsImxpc3RlbiIsImN1cnJlbnRVc2VyIiwic2lnbkluIiwic2lnbk91dCIsInJ1blNjcmlwdCIsImZ1bmN0aW9uTmFtZSIsInBhcmFtZXRlcnMiLCJzdWNjZXNzQ2FsbGJhY2siLCJmYWlsdXJlQ2FsbGJhY2siLCJzY3JpcHQiLCJzY3JpcHRzIiwicnVuIiwicmVzb3VyY2UiLCJmdW5jdGlvbiIsImRldk1vZGUiLCJyZXNwIiwicmVzdWx0IiwiZXJyb3IiLCJzdGF0dXMiLCJtZXNzYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsImRldGFpbHMiLCJlcnJvck1lc3NhZ2UiLCJjb25zb2xlIiwic2NyaXB0U3RhY2tUcmFjZUVsZW1lbnRzIiwibGVuZ3RoIiwidHJhY2UiLCJsaW5lTnVtYmVyIiwicmVzcG9uc2UiLCJERUJVRyIsIkRFTEFZIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImxvZyIsImZvcm1zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIl90aGVtZXMiLCJnaXJsIiwiY3NzIiwiaWNvbiIsImJhY2tncm91bmQiLCJib3kiLCJfY3VycmVudFRoZW1lIiwiX0hhbmRsZWJhcnMiLCJ0ZW1wbGF0ZXMiLCJzZXRUaGVtZSIsInRoZW1lIiwiQ29va2llcyIsInNldCIsIiQiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwidGV4dCIsImF0dHIiLCJ1cGRhdGVTaWduaW5TdGF0dXMiLCJtb2RhbCIsImhpZGUiLCJzaG93IiwibG9hZERhdGEiLCJ1cGRhdGVDdXJyZW50VXNlciIsImVtYWlsIiwiZ2V0QmFzaWNQcm9maWxlIiwiZ2V0RW1haWwiLCJvcGVuT3ZlcmxheSIsInNldFRpbWVvdXQiLCJsb2FkSGFuZGxlYmFycyIsImRhc2hib2FyZCIsInNhbXBsZURhc2hib2FyZENvbnRleHQiLCJ0b2RheSIsInNhbXBsZVRvZGF5Q29udGV4dCIsInllc3RlcmRheSIsInNhbXBsZVllc3RlcmRheUNvbnRleHQiLCJvbkZhaWx1cmUiLCJkYXRhIiwiZGlzcGxheVRlbXBsYXRlIiwiY2xvc2VPdmVybGF5IiwidGVtcGxhdGVJZCIsInNlY3Rpb24iLCJjb250ZXh0IiwiaHRtbCIsIkhhbmRsZWJhcnMiLCJjb21waWxlIiwidGVtcGxhdGUiLCJvdmVybGF5VGV4dCIsImFsZXJ0IiwidmFsIiwicmVzZXRGb3JtIiwidHpvZmZzZXQiLCJEYXRlIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJsb2NhbElTT1RpbWUiLCJub3ciLCJ0b0lTT1N0cmluZyIsInNsaWNlIiwiY2xpY2siLCJtYXNrIiwicmV2ZXJzZSIsInBsYWNlaG9sZGVyIiwidGhlbWVLZXkiLCJwYXJ0aWFsIiwicmVnaXN0ZXJQYXJ0aWFsIiwicmVnaXN0ZXJEYXlQYXJ0aWFsIiwib24iLCJjb2xsYXBzZSIsInRoaXMiLCJlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFB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QUFvQyxJQUFBLElBQ0FwQyxFQUFBLFlBQUE2QyxRQXpPQTdDLEVBQUEsV0FDQTdCLFFBQUFVLElBQUEsZ0JBcUVBeEQsRUFBQUMsa0JBQUErRSxFQUFBSyxHQUVBckYsRUFBQU0sS0FBQVosRUFBQUMsVUFBQUQsRUFBQUUsVUFBQUYsRUFBQUcsUUFBQUgsRUFBQUksZUFBQUosRUFBQUssUUFuRUE0RSxFQUFBLFdBQUE4QyxLQUFBLFNBQ0FDLFNBQUEsRUFDQUMsWUFBQSxVQUdBLElBQUFDLEVBQUFuRCxRQUFBbEcsSUFBQSxTQUNBZ0csRUFBQVQsRUFBQThELElBZ0hBLFdBQ0EsSUFBQTdGLEVBQUE0QyxFQUFBLGdCQUFBOEIsT0FDQW9CLEVBQUFuQixXQUFBQyxRQUFBNUUsR0FDQTJFLFdBQUFvQixnQkFBQSxhQUFBRCxHQWpIQUUsR0FHQXBELEVBQUEsNEJBQUFxRCxHQUFBLG1CQUNBckQsRUFBQSxvQkFBQXNELFNBQUEsVUFHQXRELEVBQUEsK0JBQUFxRCxHQUFBLG1CQUNBckQsRUFBQSxvQkFBQXNELFNBQUEsVUFJQXRELEVBQUEsV0FBQXFELEdBQUEsbUJBQ0FoSSxFQUFBd0IsV0FHQW1ELEVBQUEsWUFBQXFELEdBQUEsbUJBQ0FoSSxFQUFBeUIsWUFJQWtELEVBQUEsK0JBQUFxRCxHQUFBLG1CQUNBekQsRUFBQVQsRUFBQWEsRUFBQXVELE1BQUFuRCxLQUFBLGVBQ0FKLEVBQUEsb0JBQUFzRCxTQUFBLFFBRUE3QyxNQUlBVCxFQUFBLGdCQUFBcUQsR0FBQSx5QkFBQUcsR0FDQW5CLE1BR0FyQyxFQUFBLGdCQUFBcUQsR0FBQSwyQkFBQUcsR0FDQW5CIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsInZhciBHT09HTEVfSURTID0ge1xyXG4gICAgU0NSSVBUX0lEOiBcIjFEMmhSeF84b1ZMeHhaODZlMGtOR1NVOUFKeldYcWUwa0ZqUW90eUtKWVlJX2RuNm1yZ29LaDlLSFwiLFxyXG4gICAgQ0xJRU5UX0lEOiBcIjEyMDc3NDEwMDc2MS1rZ2xncnA0a2hwY2pycGZ2Z2JuN3Zxb3FmY3Bua3ZlcC5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbVwiLFxyXG4gICAgQVBJX0tFWTogXCJBSXphU3lDRnNVVTc4NDVDZjAzTHRBRkJrcE9XZXpTZWpoU0dGOFVcIixcclxuICAgIERJU0NPVkVSWV9ET0NTOiBbXCJodHRwczovL3NjcmlwdC5nb29nbGVhcGlzLmNvbS8kZGlzY292ZXJ5L3Jlc3Q/dmVyc2lvbj12MVwiXSxcclxuICAgIFNDT1BFUzogXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RyaXZlIGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvc3ByZWFkc2hlZXRzXCJcclxufTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBHT09HTEVfSURTXHJcbn07XHJcbiIsImZ1bmN0aW9uIEdvb2dsZUFQSVdyYXBwZXIoKSB7fVxyXG5cclxuR29vZ2xlQVBJV3JhcHBlci5yZWdpc3Rlckxpc3RlbmVycyA9IGZ1bmN0aW9uIChzaWduSW5TdGF0dXNMaXN0ZW5lciwgY3VycmVudFVzZXJMaXN0ZW5lcikge1xyXG4gICAgR29vZ2xlQVBJV3JhcHBlci5TSUdOSU5fU1RBVFVTX0xJU1RFTkVSID0gc2lnbkluU3RhdHVzTGlzdGVuZXI7XHJcbiAgICBHb29nbGVBUElXcmFwcGVyLkNVUlJFTlRfVVNFUl9MSVNURU5FUiA9IGN1cnJlbnRVc2VyTGlzdGVuZXI7XHJcbn07XHJcblxyXG5Hb29nbGVBUElXcmFwcGVyLmxvYWQgPSBmdW5jdGlvbiAoc2NyaXB0SWQsIGNsaWVudElkLCBhcGlLZXksIGRpc2NvdmVyeURvY3MsIHNjb3Blcykge1xyXG4gICAgR29vZ2xlQVBJV3JhcHBlci5TQ1JJUFRfSUQgPSBzY3JpcHRJZDtcclxuICAgIEdvb2dsZUFQSVdyYXBwZXIuQ0xJRU5UX0lEID0gY2xpZW50SWQ7XHJcbiAgICBHb29nbGVBUElXcmFwcGVyLkFQSV9LRVkgPSBhcGlLZXk7XHJcbiAgICBHb29nbGVBUElXcmFwcGVyLkRJU0NPVkVSWV9ET0NTID0gZGlzY292ZXJ5RG9jcztcclxuICAgIEdvb2dsZUFQSVdyYXBwZXIuU0NPUEVTID0gc2NvcGVzOyAvLyBBdXRob3JpemF0aW9uIHNjb3BlcyByZXF1aXJlZCBieSB0aGUgQVBJOyBtdWx0aXBsZSBzY29wZXMgY2FuIGJlIGluY2x1ZGVkLCBzZXBhcmF0ZWQgYnkgc3BhY2VzLlxyXG5cclxuICAgIGdhcGkubG9hZCgnY2xpZW50OmF1dGgyJywgR29vZ2xlQVBJV3JhcHBlci5pbml0Q2xpZW50KTtcclxufTtcclxuXHJcbkdvb2dsZUFQSVdyYXBwZXIuaW5pdENsaWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGdhcGkuY2xpZW50LmluaXQoe1xyXG4gICAgICAgIGFwaUtleTogR29vZ2xlQVBJV3JhcHBlci5BUElfS0VZLFxyXG4gICAgICAgIGNsaWVudElkOiBHb29nbGVBUElXcmFwcGVyLkNMSUVOVF9JRCxcclxuICAgICAgICBkaXNjb3ZlcnlEb2NzOiBHb29nbGVBUElXcmFwcGVyLkRJU0NPVkVSWV9ET0NTLFxyXG4gICAgICAgIHNjb3BlOiBHb29nbGVBUElXcmFwcGVyLlNDT1BFU1xyXG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gTGlzdGVuIGZvciBzaWduLWluIHN0YXRlIGNoYW5nZXMuXHJcbiAgICAgICAgaWYgKEdvb2dsZUFQSVdyYXBwZXIuU0lHTklOX1NUQVRVU19MSVNURU5FUiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGdhcGkuYXV0aDIuZ2V0QXV0aEluc3RhbmNlKCkuaXNTaWduZWRJbi5saXN0ZW4oR29vZ2xlQVBJV3JhcHBlci5TSUdOSU5fU1RBVFVTX0xJU1RFTkVSKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSB0aGUgaW5pdGlhbCBzaWduLWluIHN0YXRlLlxyXG4gICAgICAgICAgICBHb29nbGVBUElXcmFwcGVyLlNJR05JTl9TVEFUVVNfTElTVEVORVIoZ2FwaS5hdXRoMi5nZXRBdXRoSW5zdGFuY2UoKS5pc1NpZ25lZEluLmdldCgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChHb29nbGVBUElXcmFwcGVyLkNVUlJFTlRfVVNFUl9MSVNURU5FUiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGdhcGkuYXV0aDIuZ2V0QXV0aEluc3RhbmNlKCkuY3VycmVudFVzZXIubGlzdGVuKEdvb2dsZUFQSVdyYXBwZXIuQ1VSUkVOVF9VU0VSX0xJU1RFTkVSKTtcclxuICAgICAgICAgICAgR29vZ2xlQVBJV3JhcHBlci5DVVJSRU5UX1VTRVJfTElTVEVORVIoZ2FwaS5hdXRoMi5nZXRBdXRoSW5zdGFuY2UoKS5jdXJyZW50VXNlci5nZXQoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5Hb29nbGVBUElXcmFwcGVyLnNpZ25JbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGdhcGkuYXV0aDIuZ2V0QXV0aEluc3RhbmNlKCkuc2lnbkluKCk7XHJcbn07XHJcblxyXG5Hb29nbGVBUElXcmFwcGVyLnNpZ25PdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBnYXBpLmF1dGgyLmdldEF1dGhJbnN0YW5jZSgpLnNpZ25PdXQoKTtcclxufTtcclxuXHJcbkdvb2dsZUFQSVdyYXBwZXIucnVuU2NyaXB0ID0gZnVuY3Rpb24gKGZ1bmN0aW9uTmFtZSwgcGFyYW1ldGVycywgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spIHtcclxuICAgIC8vIENhbGwgdGhlIEFwcHMgU2NyaXB0IEFQSSBydW4gbWV0aG9kXHJcbiAgICBnYXBpLmNsaWVudC5zY3JpcHQuc2NyaXB0cy5ydW4oe1xyXG4gICAgICAgICdzY3JpcHRJZCc6IEdvb2dsZUFQSVdyYXBwZXIuU0NSSVBUX0lELFxyXG4gICAgICAgICdyZXNvdXJjZSc6IHtcclxuICAgICAgICAgICAgJ2Z1bmN0aW9uJzogZnVuY3Rpb25OYW1lLFxyXG4gICAgICAgICAgICAncGFyYW1ldGVycyc6IHBhcmFtZXRlcnMsXHJcbiAgICAgICAgICAgICdkZXZNb2RlJzogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcC5yZXN1bHQ7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5lcnJvciAmJiByZXN1bHQuZXJyb3Iuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIC8vIFRoZSBBUEkgZW5jb3VudGVyZWQgYSBwcm9ibGVtIGJlZm9yZSB0aGUgc2NyaXB0XHJcbiAgICAgICAgICAgIC8vIHN0YXJ0ZWQgZXhlY3V0aW5nLlxyXG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICdFcnJvciBjYWxsaW5nIEFQSTpcXG4nICsgSlNPTi5zdHJpbmdpZnkocmVzdWx0LCBudWxsLCAyKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5lcnJvcikge1xyXG4gICAgICAgICAgICAvLyBUaGUgQVBJIGV4ZWN1dGVkLCBidXQgdGhlIHNjcmlwdCByZXR1cm5lZCBhbiBlcnJvci5cclxuXHJcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGZpcnN0IChhbmQgb25seSkgc2V0IG9mIGVycm9yIGRldGFpbHMuXHJcbiAgICAgICAgICAgIC8vIFRoZSB2YWx1ZXMgb2YgdGhpcyBvYmplY3QgYXJlIHRoZSBzY3JpcHQncyAnZXJyb3JNZXNzYWdlJyBhbmRcclxuICAgICAgICAgICAgLy8gJ2Vycm9yVHlwZScsIGFuZCBhbiBhcnJheSBvZiBzdGFjayB0cmFjZSBlbGVtZW50cy5cclxuICAgICAgICAgICAgdmFyIGVycm9yID0gcmVzdWx0LmVycm9yLmRldGFpbHNbMF07XHJcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gZXJyb3IuZXJyb3JNZXNzYWdlO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignU2NyaXB0IGVycm9yIG1lc3NhZ2U6ICcgKyBtZXNzYWdlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChlcnJvci5zY3JpcHRTdGFja1RyYWNlRWxlbWVudHMpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoZXJlIG1heSBub3QgYmUgYSBzdGFja3RyYWNlIGlmIHRoZSBzY3JpcHQgZGlkbid0IHN0YXJ0XHJcbiAgICAgICAgICAgICAgICAvLyBleGVjdXRpbmcuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTY3JpcHQgZXJyb3Igc3RhY2t0cmFjZTonKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3Iuc2NyaXB0U3RhY2tUcmFjZUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYWNlID0gZXJyb3Iuc2NyaXB0U3RhY2tUcmFjZUVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1xcdCcgKyB0cmFjZS5mdW5jdGlvbisnOicgKyB0cmFjZS5saW5lTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZmFpbHVyZUNhbGxiYWNrKG1lc3NhZ2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRoZSBBUEkgd2FzIHN1Y2Nlc3NmdWxcclxuICAgICAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKHJlc3VsdC5yZXNwb25zZS5yZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IHtcclxuICAgIEdvb2dsZUFQSVdyYXBwZXJcclxufTtcclxuIiwiaW1wb3J0IHtcclxuICAgIEdPT0dMRV9JRFNcclxufVxyXG5mcm9tICcuL2tleXMnO1xyXG5cclxuaW1wb3J0IHtcclxuICAgIEdvb2dsZUFQSVdyYXBwZXJcclxufVxyXG5mcm9tICcuLi8uLi9fY29tbW9uL2pzL2dvb2dsZSc7XHJcblxyXG4vLy0tLS0tIERlYnVnIFZhcmlhYmxlcyAtLS0tLS8vXHJcbnZhciBERUJVRyA9IGZhbHNlO1xyXG52YXIgREVMQVkgPSAxMDAwO1xyXG5cclxuLy8tLS0tLSBNZXRob2RzIGZvciBHb29nbGUgRm9ybXMgLS0tLS0vL1xyXG5cclxuLy8gUHJldmVudCBmb3JtcyBmcm9tIHN1Ym1pdHRpbmcuXHJcbmZ1bmN0aW9uIHByZXZlbnRGb3JtU3VibWl0KCkge1xyXG4gICAgY29uc29sZS5sb2coXCJwcmV2ZW50Rm9ybVN1Ym1pdFwiKTtcclxuXHJcbiAgICB2YXIgZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtJyk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9ybXNbaV0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3VibWl0RXZlbnRcIik7XHJcblxyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgcHJldmVudEZvcm1TdWJtaXQpO1xyXG5cclxuLy8tLS0tLSBUaGVtZXMgLS0tLS0vL1xyXG52YXIgX3RoZW1lcyA9IHtcclxuICAgIGdpcmw6IHtcclxuICAgICAgICBrZXk6IFwiZ2lybFwiLFxyXG4gICAgICAgIG5hbWU6IFwiSXNhYmVsbGVcIixcclxuICAgICAgICBjc3M6IFwiY3NzL2dpcmwvYm9vdHN0cmFwLm1pbi5jc3NcIixcclxuICAgICAgICBpY29uOiBcImZsYXRpY29uLWJhYnktZ2lybFwiLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IFwiaW1hZ2VzL2dpcmwvYmFja2dyb3VuZC5wbmdcIlxyXG4gICAgfSxcclxuICAgIGJveToge1xyXG4gICAgICAgIGtleTogXCJib3lcIixcclxuICAgICAgICBuYW1lOiBcIkV0aGFuXCIsXHJcbiAgICAgICAgY3NzOiBcImNzcy9ib3kvYm9vdHN0cmFwLm1pbi5jc3NcIixcclxuICAgICAgICBpY29uOiBcImZsYXRpY29uLWJhYnlcIixcclxuICAgICAgICBiYWNrZ3JvdW5kOiBcImltYWdlcy9ib3kvYmFja2dyb3VuZC5wbmdcIlxyXG4gICAgfVxyXG59XHJcblxyXG52YXIgX2N1cnJlbnRUaGVtZSA9IF90aGVtZXMuZ2lybDtcclxuXHJcbi8vLS0tLS0gSGFuZGxlYmFycyBUZW1wbGF0ZXMgLS0tLS0vL1xyXG52YXIgX0hhbmRsZWJhcnMgPSB7XHJcbiAgICB0ZW1wbGF0ZXM6IHt9XHJcbn07XHJcblxyXG4vLy0tLS0tIE9uTG9hZCAtLS0tLS8vXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc29sZS5sb2coXCJMb2FkaW5nIHBhZ2VcIik7XHJcblxyXG4gICAgb25Hb29nbGVBcGlzTG9hZCgpO1xyXG5cclxuICAgICQoJyN3ZWlnaHQnKS5tYXNrKFwiIzAuMDBcIiwge1xyXG4gICAgICAgIHJldmVyc2U6IGZhbHNlLFxyXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcIl9fLl9fXCJcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciB0aGVtZUtleSA9IENvb2tpZXMuZ2V0KCd0aGVtZScpO1xyXG4gICAgc2V0VGhlbWUoX3RoZW1lc1t0aGVtZUtleV0pO1xyXG5cclxuICAgIHJlZ2lzdGVyRGF5UGFydGlhbCgpO1xyXG5cclxuICAgIC8vLS0tLS0gQ29sbGFwc2UgbmF2YmFyIG9uIGNsaWNrIC0tLS0tLy9cclxuICAgICQoJy5uYXZiYXItbmF2Pi5uYXYtY2xvc2U+YScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcubmF2YmFyLWNvbGxhcHNlJykuY29sbGFwc2UoJ2hpZGUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5uYXZiYXItY29sbGFwc2U+ZGl2PmJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcubmF2YmFyLWNvbGxhcHNlJykuY29sbGFwc2UoJ2hpZGUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vLS0tLS0gQXV0aGVudGljYXRpb24gQnV0dG9uIEV2ZW50cyAtLS0tLS8vXHJcbiAgICAkKFwiLnNpZ25JblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBHb29nbGVBUElXcmFwcGVyLnNpZ25JbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIiNzaWduT3V0XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIEdvb2dsZUFQSVdyYXBwZXIuc2lnbk91dCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8tLS0tLSBTd2l0Y2ggLS0tLS0vL1xyXG4gICAgJChcIi5uYXZiYXItbmF2Pi5kcm9wZG93bj5kaXY+YVwiKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2V0VGhlbWUoX3RoZW1lc1skKHRoaXMpLmF0dHIoXCJkYXRhLWJhYnlcIildKTtcclxuICAgICAgICAkKCcubmF2YmFyLWNvbGxhcHNlJykuY29sbGFwc2UoJ2hpZGUnKTtcclxuXHJcbiAgICAgICAgbG9hZERhdGEoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vLS0tLS0gTW9kYWwgRXZlbnRzIC0tLS0tLy9cclxuICAgICQoJyNhZGROZXdNb2RhbCcpLm9uKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICByZXNldEZvcm0oKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNhZGROZXdNb2RhbCcpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHJlc2V0Rm9ybSgpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuLy8tLSBTZXQgVGhlbWUgLS0vL1xyXG5mdW5jdGlvbiBzZXRUaGVtZSh0aGVtZSkge1xyXG4gICAgdGhlbWUgPSB0aGVtZSB8fCBfdGhlbWVzLmJveTtcclxuXHJcbiAgICBDb29raWVzLnNldCgndGhlbWUnLCB0aGVtZS5rZXkpO1xyXG4gICAgX2N1cnJlbnRUaGVtZSA9IHRoZW1lO1xyXG5cclxuICAgICQoXCIjYmFieUljb25cIikucmVtb3ZlQ2xhc3MoKTtcclxuICAgICQoXCIjYmFieUljb25cIikuYWRkQ2xhc3ModGhlbWUuaWNvbik7XHJcblxyXG4gICAgJChcIiNiYWJ5TmFtZVwiKS50ZXh0KHRoZW1lLm5hbWUpO1xyXG5cclxuICAgICQoXCIjdGhlbWVMaW5rXCIpLmF0dHIoXCJocmVmXCIsIHRoZW1lLmNzcyk7XHJcblxyXG4gICAgJChcIiNiYWNrZ3JvdW5kSW1nXCIpLmF0dHIoJ3NyYycsIHRoZW1lLmJhY2tncm91bmQpO1xyXG59XHJcblxyXG4vLy0tIEdvb2dsZSBBUEkgTWV0aG9kcyAtLS8vXHJcbmZ1bmN0aW9uIG9uR29vZ2xlQXBpc0xvYWQoKSB7XHJcbiAgICBHb29nbGVBUElXcmFwcGVyLnJlZ2lzdGVyTGlzdGVuZXJzKHVwZGF0ZVNpZ25pblN0YXR1cywgdXBkYXRlQ3VycmVudFVzZXIpO1xyXG5cclxuICAgIEdvb2dsZUFQSVdyYXBwZXIubG9hZChHT09HTEVfSURTLlNDUklQVF9JRCwgR09PR0xFX0lEUy5DTElFTlRfSUQsIEdPT0dMRV9JRFMuQVBJX0tFWSwgR09PR0xFX0lEUy5ESVNDT1ZFUllfRE9DUywgR09PR0xFX0lEUy5TQ09QRVMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVTaWduaW5TdGF0dXMoaXNTaWduZWRJbikge1xyXG4gICAgaWYgKGlzU2lnbmVkSW4pIHtcclxuICAgICAgICAkKFwiI3NpZ25Jbk1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAkKFwiI3NpZ25JblNlY3Rpb25cIikuaGlkZSgpO1xyXG5cclxuICAgICAgICAkKFwiI2N1cnJlbnRVc2VyU2VjdGlvblwiKS5zaG93KCk7XHJcbiAgICAgICAgJChcIiNzaWduZWRJblZpZXdcIikuc2hvdygpO1xyXG5cclxuICAgICAgICBsb2FkRGF0YSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwiI3NpZ25Jbk1vZGFsXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgICAkKFwiI3NpZ25JblNlY3Rpb25cIikuc2hvdygpO1xyXG5cclxuICAgICAgICAkKFwiI2N1cnJlbnRVc2VyU2VjdGlvblwiKS5oaWRlKCk7XHJcbiAgICAgICAgJChcIiNzaWduZWRJblZpZXdcIikuaGlkZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVDdXJyZW50VXNlcihjdXJyZW50VXNlcikge1xyXG4gICAgdmFyIGVtYWlsID0gY3VycmVudFVzZXIuaXNTaWduZWRJbigpID8gY3VycmVudFVzZXIuZ2V0QmFzaWNQcm9maWxlKCkuZ2V0RW1haWwoKSA6IFwiXCI7XHJcbiAgICAkKFwiI2N1cnJlbnRVc2VyXCIpLnRleHQoZW1haWwpO1xyXG59XHJcblxyXG4vLy0tLS0tIExvYWQgRGF0YSAtLS0tLS8vXHJcbmZ1bmN0aW9uIGxvYWREYXRhKCkge1xyXG4gICAgb3Blbk92ZXJsYXkoXCJMb2FkaW5nLi4uXCIpO1xyXG4gICAgaWYgKERFQlVHKSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxvYWRIYW5kbGViYXJzKHtcclxuICAgICAgICAgICAgICAgIGRhc2hib2FyZDogc2FtcGxlRGFzaGJvYXJkQ29udGV4dCxcclxuICAgICAgICAgICAgICAgIHRvZGF5OiBzYW1wbGVUb2RheUNvbnRleHQsXHJcbiAgICAgICAgICAgICAgICB5ZXN0ZXJkYXk6IHNhbXBsZVllc3RlcmRheUNvbnRleHRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgREVMQVkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBHb29nbGVBUElXcmFwcGVyLnJ1blNjcmlwdChcImxvYWREYXRhXCIsIFtfY3VycmVudFRoZW1lLm5hbWVdLCBsb2FkSGFuZGxlYmFycywgb25GYWlsdXJlKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8tLS0tLSBIYW5kbGViYXJzIG1ldGhvZHMgLS0tLS0vL1xyXG5mdW5jdGlvbiBsb2FkSGFuZGxlYmFycyhkYXRhKSB7XHJcbiAgICBkaXNwbGF5VGVtcGxhdGUoXCIjZGFzaGJvYXJkLXRlbXBsYXRlXCIsIFwiI2Rhc2hib2FyZFwiLCBkYXRhLmRhc2hib2FyZCk7XHJcbiAgICBkaXNwbGF5VGVtcGxhdGUoXCIjdG9kYXktdGVtcGxhdGVcIiwgXCIjdG9kYXlcIiwgZGF0YS50b2RheSk7XHJcbiAgICBkaXNwbGF5VGVtcGxhdGUoXCIjeWVzdGVyZGF5LXRlbXBsYXRlXCIsIFwiI3llc3RlcmRheVwiLCBkYXRhLnllc3RlcmRheSk7XHJcblxyXG4gICAgY2xvc2VPdmVybGF5KCk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlckRheVBhcnRpYWwoKSB7XHJcbiAgICB2YXIgc2NyaXB0ID0gJChcIiNkYXktcGFydGlhbFwiKS5odG1sKCk7XHJcbiAgICB2YXIgcGFydGlhbCA9IEhhbmRsZWJhcnMuY29tcGlsZShzY3JpcHQpO1xyXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlclBhcnRpYWwoXCJkYXlQYXJ0aWFsXCIsIHBhcnRpYWwpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZGlzcGxheVRlbXBsYXRlKHRlbXBsYXRlSWQsIHNlY3Rpb24sIGNvbnRleHQpIHtcclxuICAgIGlmIChfSGFuZGxlYmFycy50ZW1wbGF0ZXNbdGVtcGxhdGVJZF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIF9IYW5kbGViYXJzLnRlbXBsYXRlc1t0ZW1wbGF0ZUlkXSA9ICQodGVtcGxhdGVJZCkuaHRtbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShfSGFuZGxlYmFycy50ZW1wbGF0ZXNbdGVtcGxhdGVJZF0pO1xyXG4gICAgdmFyIGh0bWwgPSB0ZW1wbGF0ZShjb250ZXh0KTtcclxuXHJcbiAgICAvLyBBZGQgdGhlIGNvbXBpbGVkIGh0bWwgdG8gdGhlIHBhZ2VcclxuICAgICQoc2VjdGlvbikuaHRtbChodG1sKTtcclxufVxyXG5cclxuLy8tLS0tLSBPdmVybGF5IE1ldGhvZHMgLS0tLS0vL1xyXG5mdW5jdGlvbiBvcGVuT3ZlcmxheShvdmVybGF5VGV4dCkge1xyXG4gICAgJChcIiNvdmVybGF5LXRleHRcIikudGV4dChvdmVybGF5VGV4dCk7XHJcbiAgICAkKFwiI3dhaXRcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZU92ZXJsYXkoKSB7XHJcbiAgICAkKFwiI3dhaXRcIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbn1cclxuXHJcbi8vLS0tLS0gQWRkIE5ldyBFbnRyeSBGb3JtIE1ldGhvZHMgLS0tLS0vL1xyXG5mdW5jdGlvbiBoYW5kbGVGb3JtU3VibWl0KGZvcm1PYmplY3QpIHtcclxuICAgICQoJyNhZGROZXdNb2RhbCcpLm1vZGFsKCdoaWRlJyk7XHJcblxyXG4gICAgb3Blbk92ZXJsYXkoXCJTYXZpbmcuLi5cIik7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJydW5uaW5nIHNjcmlwdFwiKTtcclxuXHJcbiAgICB2YXIgdmFsdWVzID0gZ2V0Rm9ybVZhbHVlcyhmb3JtT2JqZWN0KTtcclxuXHJcbiAgICBpZiAoIURFQlVHKSB7XHJcbiAgICAgICAgR29vZ2xlQVBJV3JhcHBlci5ydW5TY3JpcHQoXCJzdWJtaXRGb3JtXCIsIHZhbHVlcywgb25TdWJtaXRGb3JtU3VjY2Vzcywgb25GYWlsdXJlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG9uU3VibWl0Rm9ybVN1Y2Nlc3MoKTtcclxuICAgICAgICB9LCBERUxBWSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEZvcm1WYWx1ZXMoZm9ybSkge1xyXG4gICAgdmFyICRpbnB1dHMgPSAkKCcjJyArIGZvcm0uaWQgKyAnIDppbnB1dCcpO1xyXG5cclxuICAgIHZhciB2YWx1ZXMgPSB7fTtcclxuICAgICRpbnB1dHMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCh0aGlzLnR5cGUgPT09IFwicmFkaW9cIiAmJiB0aGlzLmNoZWNrZWQgPT09IHRydWUpIHx8ICh0aGlzLnR5cGUgIT09IFwicmFkaW9cIikpIHtcclxuICAgICAgICAgICAgdmFsdWVzW3RoaXMubmFtZV0gPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHZhbHVlc1tcImJhYnlcIl0gPSBfY3VycmVudFRoZW1lLm5hbWU7XHJcblxyXG4gICAgaWYgKHZhbHVlc1tcImZlZWRpbmctdHlwZVwiXSAhPT0gXCJTb2xpZHNcIikge1xyXG4gICAgICAgIGRlbGV0ZSB2YWx1ZXNbXCJtZWFsXCJdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2YWx1ZXNbXCJmZWVkaW5nLXR5cGVcIl0gIT09IFwiQm90dGxlXCIpIHtcclxuICAgICAgICBkZWxldGUgdmFsdWVzW1wiYW1vdW50XCJdO1xyXG4gICAgICAgIGRlbGV0ZSB2YWx1ZXNbXCJ0eXBlXCJdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2YWx1ZXNbXCJmZWVkaW5nLXR5cGVcIl0gIT09IFwiQnJlYXN0XCIpIHtcclxuICAgICAgICBkZWxldGUgdmFsdWVzW1widGltZVwiXTtcclxuICAgICAgICBkZWxldGUgdmFsdWVzW1wic2lkZVwiXTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyh2YWx1ZXMpO1xyXG5cclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uRmFpbHVyZShtZXNzYWdlKSB7XHJcbiAgICBjbG9zZU92ZXJsYXkoKTtcclxuICAgIGFsZXJ0KG1lc3NhZ2UpO1xyXG4gICAgJChcIiNzdWJtaXRCdG5cIikudmFsKFwiU3VibWl0XCIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gb25TdWJtaXRGb3JtU3VjY2VzcygpIHtcclxuICAgICQoXCIjc3VibWl0QnRuXCIpLnZhbChcIlN1Ym1pdFwiKTtcclxuICAgIGNsb3NlT3ZlcmxheSgpO1xyXG4gICAgbG9hZERhdGEoKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHtcclxuICAgIGNvbnNvbGUubG9nKFwicmVzZXRGb3JtXCIpO1xyXG5cclxuICAgIC8vIGdldCB0aGUgaXNvIHRpbWUgc3RyaW5nIGZvcm1hdHRlZCBmb3IgdXNhZ2UgaW4gYW4gaW5wdXRbJ3R5cGU9XCJkYXRldGltZS1sb2NhbFwiJ11cclxuICAgIHZhciB0em9mZnNldCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDA7IC8vb2Zmc2V0IGluIG1pbGxpc2Vjb25kc1xyXG4gICAgdmFyIGxvY2FsSVNPVGltZSA9IChuZXcgRGF0ZShEYXRlLm5vdygpIC0gdHpvZmZzZXQpKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIC0xKTtcclxuICAgIHZhciBsb2NhbElTT1RpbWVXaXRob3V0U2Vjb25kcyA9IGxvY2FsSVNPVGltZS5zbGljZSgwLCAxNik7XHJcblxyXG4gICAgJChcIiNkYXRlXCIpLnZhbChsb2NhbElTT1RpbWUuc2xpY2UoMCwgMTYpKTtcclxuXHJcbiAgICAvLyByZXNldCBjb250cm9sc1xyXG4gICAgJChcIiNhbW91bnRcIikudmFsKCcnKTtcclxuICAgICQoXCIjdHlwZVwiKS52YWwoJycpO1xyXG4gICAgJChcIiN0aW1lXCIpLnZhbCgnJyk7XHJcbiAgICAkKFwiI21lYWxcIikudmFsKCcnKTtcclxuICAgICQoXCIjdml0YW1pbi1ub1wiKS5jbGljaygpO1xyXG4gICAgJChcIiN3ZXQtbm9cIikuY2xpY2soKTtcclxuICAgICQoXCIjZGlydHktbm9cIikuY2xpY2soKTtcclxuICAgICQoXCIjd2VpZ2h0XCIpLnZhbCgnJyk7XHJcbiAgICAkKFwiI25vdGVzXCIpLnZhbCgnJyk7XHJcbiAgICAkKFwiI2JhdGgtbm9cIikuY2xpY2soKTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9